(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1112362c"],{"3e1f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w-profile"},[e("div",{staticClass:"w-profile__form"},[e("div",{staticClass:"w-profile__form-header"},[t._v(" Thông tin tài khoản ")]),e("div",{staticClass:"w-profile__form-body"},[e("div",{staticClass:"header"},[e("div",{staticClass:"avatar"},[e("img",{staticClass:"avatar__img",attrs:{src:t.avatar_full_url||t.NoAvatar,alt:""}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"info__name",domProps:{textContent:t._s(t.formData.name)}}),e("div",{staticClass:"info__avatar",on:{click:function(a){return t.$refs.file.click()}}},[e("input",{ref:"file",attrs:{id:"avatar-file",type:"file",name:"",hidden:""},on:{change:function(a){return t.changeFile(a)}}}),t._v(" Tải ảnh đại diện "),e("i",{staticClass:"fas fa-plus-circle"})])])]),e("div",{staticClass:"content"},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.formData}},[e("el-row",[e("el-col",{staticClass:"pr-5",attrs:{span:12}},[e("div",{staticClass:"sub-title"},[t._v("Họ và tên")]),e("el-form-item",{attrs:{prop:"name"}},[e("el-input",{attrs:{placeholder:"Họ và tên"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}},[e("div",{attrs:{slot:"suffix"},slot:"suffix"},[e("svg-icon",{attrs:{"icon-class":"edit_account"}})],1)])],1)],1),e("el-col",{staticClass:"pl-5",attrs:{span:12}},[e("div",{staticClass:"sub-title"},[t._v("Bộ phận")]),e("el-form-item",[e("el-input",{attrs:{placeholder:"Bộ phận",readonly:""},model:{value:t.formData.user_group,callback:function(a){t.$set(t.formData,"user_group",a)},expression:"formData.user_group"}},[e("i",{staticClass:"el-icon-arrow-down",attrs:{slot:"suffix"},slot:"suffix"})])],1)],1),e("el-col",{staticClass:"pr-5",attrs:{span:12}},[e("div",{staticClass:"sub-title"},[t._v("ID")]),e("el-form-item",[e("el-input",{attrs:{placeholder:"ID",readonly:""},model:{value:t.formData.user_id,callback:function(a){t.$set(t.formData,"user_id",a)},expression:"formData.user_id"}})],1)],1),e("el-col",{staticClass:"pl-5",attrs:{span:12}},[e("div",{staticClass:"sub-title"},[t._v("Quyền hạn")]),e("el-form-item",[e("el-input",{attrs:{placeholder:"Quyền hạn",readonly:""},model:{value:t.formData.role,callback:function(a){t.$set(t.formData,"role",a)},expression:"formData.role"}},[e("i",{staticClass:"el-icon-arrow-down",attrs:{slot:"suffix"},slot:"suffix"})])],1)],1),e("el-col",{staticClass:"pr-5",attrs:{span:24}},[e("div",{staticClass:"sub-title"},[t._v("Email")]),e("el-form-item",{attrs:{prop:"email"}},[e("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"Email"},model:{value:t.formData.email,callback:function(a){t.$set(t.formData,"email",a)},expression:"formData.email"}},[e("div",{attrs:{slot:"suffix"},slot:"suffix"},[e("svg-icon",{attrs:{"icon-class":"edit_account"}})],1)])],1)],1),e("el-col",{staticClass:"pr-5",attrs:{span:24}},[e("div",{staticClass:"sub-title"},[t._v("Số điện thoại")]),e("el-form-item",{attrs:{prop:"phone_number"}},[e("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"Số điện thoại"},model:{value:t.formData.phone_number,callback:function(a){t.$set(t.formData,"phone_number",a)},expression:"formData.phone_number"}},[e("div",{attrs:{slot:"suffix"},slot:"suffix"},[e("svg-icon",{attrs:{"icon-class":"edit_account"}})],1)])],1)],1),e("el-col",{staticClass:"pr-5",attrs:{span:24}},[e("div",{staticClass:"sub-title"},[t._v("Giới thiệu")]),e("div",{staticClass:"input-textarea"},[e("el-form-item",{attrs:{prop:"description"}},[e("el-input",{attrs:{type:"textarea",rows:4,placeholder:"Nhập nội dung",maxlength:191},model:{value:t.formData.description,callback:function(a){t.$set(t.formData,"description",a)},expression:"formData.description"}})],1),e("div",{staticClass:"max-length"},[t._v(t._s((t.formData.description?t.formData.description.length:0)+"/191"))]),e("svg-icon",{attrs:{"icon-class":"edit_account"}})],1)])],1)],1)],1),e("div",{staticClass:"footer"},[e("div",{staticClass:"btn btn-close",on:{click:t.redirect}},[t._v("Đóng")]),e("div",{staticClass:"btn btn-save",on:{click:t.handleUpdate}},[t._v("Lưu")])])])])])},r=[],i=(e("b0c0"),e("a4d3"),e("e01a"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9861"),e("db37")),o=e.n(i),n=e("61f7"),l=e("c24f"),c=e("a796"),u={data:function(){var t=function(t,a,e){return a?Object(n["d"])(a)?void e():e(new Error("Email không đúng định dạng")):e(new Error("Email không được để trống"))},a=function(t,a,e){if(a&&!Object(n["f"])(a))return e(new Error("Số điện thoại không đúng định dạng"));e()};return{rules:{name:[{required:!0,message:"Bạn chưa nhập tên",trigger:"change"}],email:[{validator:t,trigger:"change"}],phone_number:[{validator:a,trigger:"change"}]},formData:{name:"",user_id:"",email:"",phone_number:"",description:"",user_group:"Chưa set bộ phận",role:"Chưa set role",user_group_id:""},prevRoute:"/dashboard",avatar_full_url:o.a}},beforeRouteEnter:function(t,a,e){e((function(t){t.prevRoute=a}))},computed:{user:function(){return this.$store.getters["user/profile"]}},created:function(){this.formData={user_id:this.user.user_id,name:this.user.name,email:this.user.email,role:this.user.role,user_group_id:this.user.user_group_id,description:this.user.description,user_group:this.user.user_group},this.avatar_full_url=this.user.avatar_full_url||o.a},methods:{changeFile:function(t){var a=this,e=t.target.files||t.dataTransfer.files;if(e.length){this.formData.avatar=URL.createObjectURL(e[0]),this.avatar_full_url=URL.createObjectURL(e[0]);var s=new FormData;s.append("file[]",e[0]),Object(c["a"])(s).then((function(t){a.formData.avatar=t.data[0].path_file}))}},handleUpdate:function(){var t=this;this.$refs["dataForm"].validate((function(a){a&&Object(l["p"])(t.formData).then((function(a){t.$store.commit("user/SET_PROFILE",a.data.profile),t.resetFormData(),t.redirect()}))}))},redirect:function(){this.$router.push(this.prevRoute.path||"/dashboard")},resetFormData:function(){this.$refs["dataForm"]&&this.$refs["dataForm"].resetFields()}}},f=u,d=e("2877"),p=Object(d["a"])(f,s,r,!1,null,null,null);a["default"]=p.exports},a796:function(t,a,e){"use strict";e.d(a,"a",(function(){return i}));var s=e("b775"),r="/attachment/upload";function i(t){return Object(s["a"])({url:r,method:"post",data:t})}},db37:function(t,a,e){t.exports=e.p+"static/img/no_avatar.9c80ce0c.png"}}]);